<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dear Martin â€“ Study Guide</title>

<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;500;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

<style>
/* --- DESIGN SYSTEM (UNCHANGED) --- */
:root {
    --bg-color: #f4f4f4;
    --card-bg: #ffffff;
    --text-main: #111111;
    --text-light: #666666;
    --accent: #b71c1c; /* Brick Red */
    --border-color: #e0e0e0;
}

* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: 'Roboto', sans-serif;
    background-color: var(--bg-color);
    color: var(--text-main);
    line-height: 1.6;
    font-weight: 300;
}

h1, h2, h3 {
    font-family: 'Oswald', sans-serif;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-top: 0;
    color: var(--text-main);
}

strong { font-weight: 700; color: #000; }

/* HEADER */
header {
    background-color: #111;
    color: #fff;
    padding: 80px 20px;
    text-align: center;
    position: relative;
}

header::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 4px;
    background-color: var(--accent);
}

header h1 { font-size: 3.5rem; margin-bottom: 10px; }
header p { font-size: 1.2rem; opacity: 0.8; }

/* NAVIGATION */
nav {
    background-color: #fff;
    position: sticky;
    top: 0;
    z-index: 100;
    border-bottom: 1px solid var(--border-color);
}

nav ul {
    display: flex;
    justify-content: center;
    list-style: none;
    padding: 20px 0;
    margin: 0;
    flex-wrap: wrap;
}

nav li { margin: 0 20px; }

nav a {
    text-decoration: none;
    color: var(--text-main);
    font-family: 'Oswald', sans-serif;
    font-size: 0.9rem;
    letter-spacing: 1px;
    transition: color 0.3s;
}

nav a:hover { color: var(--accent); }

/* MAIN CONTENT */
main {
    max-width: 1000px;
    margin: 60px auto;
    padding: 0 20px;
    padding-bottom: 120px;
}

.section {
    background-color: var(--card-bg);
    padding: 50px;
    margin-bottom: 40px;
    border: 1px solid var(--border-color);
    box-shadow: 0 10px 30px rgba(0,0,0,0.02);
    position: relative;
}

.section::before {
    content: '';
    position: absolute;
    left: 0;
    top: 40px;
    height: 40px;
    width: 4px;
    background-color: var(--accent);
}

h2 {
    font-size: 2rem;
    margin-bottom: 25px;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
}

/* GRID LAYOUTS */
.content-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
}

.char-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 25px;
}

@media (max-width: 768px) {
    .content-grid { grid-template-columns: 1fr; }
    header h1 { font-size: 2.5rem; }
    .section { padding: 30px; }
}

/* CARDS */
.char-card {
    background: #fafafa;
    border: 1px solid #eee;
    padding: 25px;
    transition: transform 0.3s;
}

.char-card:hover {
    transform: translateY(-5px);
    border-color: var(--accent);
}

.char-card h3 { color: var(--accent); margin-bottom: 10px; }

/* QUIZ STYLES */
.quiz-container { text-align: center; max-width: 600px; margin: 0 auto; }
.quiz-progress { font-family: 'Oswald', sans-serif; color: #888; margin-bottom: 20px; }
.question-box { font-size: 1.3rem; margin-bottom: 25px; }
.options-area { display: flex; flex-direction: column; gap: 10px; }

.quiz-btn {
    background: transparent;
    border: 1px solid #ccc;
    padding: 12px;
    font-family: 'Roboto', sans-serif;
    cursor: pointer;
    text-align: left;
    transition: 0.2s;
    font-size: 1rem;
}

.quiz-btn:hover { background-color: #111; color: #fff; }
.quiz-btn.correct { background-color: #2e7d32; color: white; border-color: #2e7d32; }
.quiz-btn.wrong { background-color: var(--accent); color: white; border-color: var(--accent); }

.next-btn {
    margin-top: 25px;
    padding: 10px 30px;
    background-color: var(--text-main);
    color: #fff;
    border: none;
    font-family: 'Oswald', sans-serif;
    cursor: pointer;
    display: none;
}

/* CHATBOT */
.chat-widget { position: fixed; bottom: 30px; right: 30px; z-index: 999; }
.chat-toggle {
    width: 60px; height: 60px;
    background-color: var(--text-main); color: white;
    border-radius: 50%; border: none; cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2); font-size: 24px;
    transition: transform 0.3s;
}
.chat-toggle:hover { transform: scale(1.1); background-color: var(--accent); }

.chat-window {
    position: absolute; bottom: 80px; right: 0;
    width: 320px; height: 400px;
    background: white;
    box-shadow: 0 10px 40px rgba(0,0,0,0.15);
    border: 1px solid #eee; display: none;
    flex-direction: column; border-radius: 4px;
}

.chat-header { background-color: var(--text-main); color: white; padding: 15px; font-family: 'Oswald', sans-serif; display: flex; justify-content: space-between; }
.chat-content { flex: 1; padding: 15px; overflow-y: auto; background-color: #fafafa; display: flex; flex-direction: column; gap: 10px; }
.msg { padding: 8px 12px; max-width: 85%; font-size: 0.9rem; }
.msg-bot { background-color: #e0e0e0; align-self: flex-start; border-left: 3px solid var(--accent); }
.msg-user { background-color: var(--text-main); color: white; align-self: flex-end; }
.chat-input { display: flex; border-top: 1px solid #eee; padding: 10px; background: white; }
.chat-input input { flex: 1; border: 1px solid #ddd; padding: 8px; outline: none; }
.chat-input button { background: var(--accent); color: white; border: none; padding: 0 15px; margin-left: 10px; cursor: pointer; font-family: 'Oswald', sans-serif; }

/* FOOTER */
footer { background-color: #111; color: #666; text-align: center; padding: 50px 20px; font-family: 'Oswald', sans-serif; font-size: 0.8rem; letter-spacing: 1px; }
</style>
</head>

<body>

<header>
    <h1>Dear Martin</h1>
    <p>A Simple Guide to the Novel</p>
</header>

<nav>
    <ul>
        <li><a href="#author">Author</a></li>
        <li><a href="#plot">Summary</a></li>
        <li><a href="#characters">People</a></li>
        <li><a href="#themes">Topics</a></li>
        <li><a href="#quiz">Quiz</a></li>
    </ul>
</nav>

<main>

    <section class="section" id="author">
        <h2>01. The Author</h2>
        <div class="content-grid">
            <div>
                <p><strong>Nic Stone</strong> is from Atlanta, USA. She used to work with teenagers.</p>
                <p>She wrote <em>Dear Martin</em> in 2017. She wanted to show the hard life of young Black men in America.</p>
            </div>
            <div>
                <p><strong>Why she wrote it:</strong><br>
                Nic Stone has two sons. She wrote this book for them. She asked: <em>"What would Dr. Martin Luther King Jr. do today?"</em></p>
            </div>
        </div>
    </section>

    <section class="section" id="plot">
        <h2>02. Summary</h2>
        
        <h3>The Problem</h3>
        <p><strong>Justyce McAllister</strong> is 17 years old. He is very smart and wants to go to Yale University. One night, he helps his ex-girlfriend. A police officer sees him. The officer arrests Justyce violently because he is Black. Justyce did nothing wrong.</p>

        <h3>The Letters</h3>
        <p>Justyce is angry and confused. He starts writing letters to <strong>Dr. Martin Luther King Jr.</strong> in his diary. He tries to be peaceful like Dr. King. But it is hard because some people at school are racist.</p>

        <h3>The Tragedy</h3>
        <p>Later, Justyce and his best friend Manny are driving. A white man gets angry about their loud music. The man shoots a gun. This tragic event changes Justyce's life forever.</p>
    </section>

    <section class="section" id="characters">
        <h2>03. Characters</h2>
        <div class="char-grid">
            
            <div class="char-card">
                <h3>Justyce</h3>
                <p>The main character. He is smart and brave. He feels caught between two worlds.</p>
            </div>

            <div class="char-card">
                <h3>Manny</h3>
                <p>Justyceâ€™s best friend. He is rich. He tries to ignore racism to have an easy life.</p>
            </div>

            <div class="char-card">
                <h3>SJ</h3>
                <p>She is Justyceâ€™s friend and debate partner. She is kind and supports him.</p>
            </div>

            <div class="char-card">
                <h3>Jared</h3>
                <p>A classmate. At first, he is not nice. He makes jokes and does not understand racism.</p>
            </div>

        </div>
    </section>

    <section class="section" id="themes">
        <h2>04. Main Topics</h2>
        <div class="content-grid">
            <div>
                <h4>Racism</h4>
                <p>The book shows how people are treated badly because of their skin color. It talks about unfair police actions.</p>
            </div>
            <div>
                <h4>Identity</h4>
                <p>Justyce asks: "Who am I?" He tries to find his place in a world that judges him.</p>
            </div>
        </div>
    </section>

    <section class="section" id="quiz">
        <h2>05. Quiz</h2>
        <div class="quiz-container" id="quiz-container">
            <div class="quiz-progress" id="progress-text">Question 1 of 5</div>
            <div class="question-box" id="question-text">Loading...</div>
            <div class="options-area" id="options-area"></div>
            <button class="next-btn" id="next-button" onclick="nextQuestion()">Next â†’</button>
        </div>
    </section>

</main>

<footer>
    <p>DEAR MARTIN PROJECT â€¢ 2024</p>
</footer>

<div class="chat-widget">
    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <span>BOT</span>
            <span style="cursor:pointer" onclick="toggleChat()">âœ•</span>
        </div>
        <div class="chat-content" id="chatContent">
            <div class="msg msg-bot">Hi. Ask me about the book.</div>
        </div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Type here..." onkeypress="handleEnter(event)">
            <button onclick="sendMessage()">SEND</button>
        </div>
    </div>
    <button class="chat-toggle" onclick="toggleChat()">ðŸ’¬</button>
</div>

<script>
    /* QUIZ DATA (Simplified English) */
    const quizData = [
        {
            q: "Where is the author Nic Stone from?",
            options: ["New York", "Atlanta", "London", "Paris"],
            correct: 1
        },
        {
            q: "Who does Justyce write letters to?",
            options: ["Dr. Martin Luther King Jr.", "His dad", "The President", "His teacher"],
            correct: 0
        },
        {
            q: "Who is Justyce's best friend?",
            options: ["Jared", "SJ", "Manny", "Quan"],
            correct: 2
        },
        {
            q: "Which university does Justyce want to go to?",
            options: ["Harvard", "Yale", "Stanford", "Oxford"],
            correct: 1
        },
        {
            q: "What is the main problem in the book?",
            options: ["Bad grades", "Racism and Injustice", "Family problems", "Sports"],
            correct: 1
        }
    ];

    let currentQuestion = 0;
    let score = 0;

    function loadQuestion() {
        const data = quizData[currentQuestion];
        document.getElementById("question-text").innerText = data.q;
        document.getElementById("progress-text").innerText = `Question ${currentQuestion + 1} of ${quizData.length}`;
        document.getElementById("next-button").style.display = "none";
        
        const area = document.getElementById("options-area");
        area.innerHTML = "";

        data.options.forEach((opt, index) => {
            const btn = document.createElement("button");
            btn.className = "quiz-btn";
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(index, btn);
            area.appendChild(btn);
        });
    }

    function checkAnswer(index, btn) {
        const allBtns = document.querySelectorAll(".quiz-btn");
        allBtns.forEach(b => b.style.pointerEvents = "none");
        const correctIndex = quizData[currentQuestion].correct;
        
        if (index === correctIndex) {
            btn.classList.add("correct");
            score++;
        } else {
            btn.classList.add("wrong");
            allBtns[correctIndex].classList.add("correct");
        }
        document.getElementById("next-button").style.display = "inline-block";
    }

    function nextQuestion() {
        currentQuestion++;
        if (currentQuestion < quizData.length) {
            loadQuestion();
        } else {
            document.getElementById("quiz-container").innerHTML = `
                <h3>Done!</h3>
                <p>Score: <strong>${score} / ${quizData.length}</strong></p>
                <button class="next-btn" style="display:inline-block" onclick="location.reload()">Restart</button>
            `;
        }
    }

    loadQuestion();

    /* CHATBOT LOGIC */
    function toggleChat() {
        const win = document.getElementById("chatWindow");
        win.style.display = (win.style.display === "flex") ? "none" : "flex";
    }

    function handleEnter(e) { if (e.key === "Enter") sendMessage(); }

    function sendMessage() {
        const input = document.getElementById("chatInput");
        const txt = input.value.trim().toLowerCase();
        if(!txt) return;

        addMsg(input.value, "msg-user");
        input.value = "";

        setTimeout(() => {
            let reply = "I don't know. Ask about Justyce or the Author.";
            
            if (txt.includes("author") || txt.includes("nic")) {
                reply = "Nic Stone is the author. She is from Atlanta.";
            } else if (txt.includes("summary") || txt.includes("book")) {
                reply = "The book is about Justyce. He faces racism and writes to Dr. King.";
            } else if (txt.includes("justyce")) {
                reply = "Justyce is the main character. He is smart and wants to go to Yale.";
            } else if (txt.includes("manny")) {
                reply = "Manny is Justyce's rich best friend.";
            } else if (txt.includes("hello") || txt.includes("hi")) {
                reply = "Hello! Ask me a question.";
            }

            addMsg(reply, "msg-bot");
        }, 500);
    }

    function addMsg(txt, cls) {
        const div = document.createElement("div");
        div.className = "msg " + cls;
        div.innerText = txt;
        const container = document.getElementById("chatContent");
        container.appendChild(div);
        container.scrollTop = container.scrollHeight;
    }
</script>

</body>
</html>
